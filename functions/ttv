# take the given arguments and pass them to livestreamer
# as stream name and quality level

if [[ $# -eq 0 ]] || [[ $# -gt 2 ]]; then
  echo "Invalid arguments provided, usage:"
  echo "    e.g.   ttv stream_name quality"
  echo "quality options: (a)udio, (h)igh, (l)ow, (m)edium, (w)orst/mobile (s)ource/Best"
  echo "will use \"Source\" quality by default if no option is provided."
  echo "    e.g.   ttv stream"
  return 1
else
  local stream_name=$1; shift
  local stream_qual=$1
  case $stream_qual in
      "") stream_qual="best" ;;
    [sS]) stream_qual="best" ;;
    [aA]) stream_qual="audio" ;;
    [hH]) stream_qual="high" ;;
    [lL]) stream_qual="low" ;;
    [mM]) stream_qual="medium" ;;
    [wW]) stream_qual="worst" ;;
       *) echo "Invalid quality option." && return 1 ;;
  esac
  exec livestreamer http://www.twitch.tv/$stream_name $stream_qual &
fi
