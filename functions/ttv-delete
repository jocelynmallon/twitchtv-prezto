# manually remove an entry from TTVSTREAMS list

local stream_name=$1
local stream_file="$(<"$TTVSTREAMS")"
local stream_array; stream_array=(${(f)stream_file});

if [[ -z $1 ]] || [[ ! ${stream_array[(r)$stream_name]} ]]; then
  echo "Invalid name, please provide a name for the stream to delete."
  echo "    e.g.   ttv-delete foo"
  return 1
else
  sed -n -i .bak "/$stream_name/!p" "$TTVSTREAMS"
  mv "${TTVSTREAMS}.bak" ~/.Trash/"ttvstreams"$(date +%H-%M-%S)
fi
